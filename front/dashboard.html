<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - MentorMatch</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="dashboard.css">

</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
        function Dashboard() {
            return (
                <div className="dashboard-container">
                    <DashboardHeader />
                    <DashboardMain />
                </div>
            );
        }

        // –®–∞–ø–∫–∞ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
        function DashboardHeader() {
            const goToMain = () => {
                window.location.href = 'index.html';
            };

            const logout = () => {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                    window.location.href = 'index.html';
                }
            };

            return (
                <header className="dashboard-header">
                    <div className="header-left">
                        <h1 className="logo">MentorMatch</h1>
                        <nav className="dashboard-nav">
                            <a href="index.html" className="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                            <a href="#profile" className="nav-link active">–ü—Ä–æ—Ñ–∏–ª—å</a>
                            <a href="#sessions" className="nav-link">–°–µ—Å—Å–∏–∏</a>
                            <a href="#reviews" className="nav-link">–û—Ç–∑—ã–≤—ã</a>
                        </nav>
                    </div>
                    <div className="header-right">
                        <div className="user-info">
                            <span className="user-name">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</span>
                            <button className="logout-btn" onClick={logout}>–í—ã–π—Ç–∏</button>
                        </div>
                    </div>
                </header>
            );
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
        function DashboardMain() {
            return (
                <main className="dashboard-main">
                    <StatsSection />
                    <ChartsSection />
                    <ReviewsSection />
                    <SessionsSection />
                </main>
            );
        }

        // –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function StatsSection() {
            const stats = [
                { icon: 'üìä', title: '–í—Å–µ–≥–æ —Å–µ—Å—Å–∏–π', value: '15', change: '+2 –∑–∞ –º–µ—Å—è—Ü', positive: true },
                { icon: '‚≠ê', title: '–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥', value: '4.8', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ' },
                { icon: '‚è±Ô∏è', title: '–ß–∞—Å–æ–≤ –æ–±—É—á–µ–Ω–∏—è', value: '42.5', change: '+5.5 —á', positive: true },
                { icon: 'üë•', title: '–ú–µ–Ω—Ç–æ—Ä–æ–≤', value: '6', change: '–∞–∫—Ç–∏–≤–Ω–æ: 3' }
            ];

            return (
                <section className="stats-section">
                    <h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <div className="stats-grid">
                        {stats.map((stat, index) => (
                            <div key={index} className="stat-card">
                                <div className="stat-icon">{stat.icon}</div>
                                <div className="stat-info">
                                    <h3>{stat.title}</h3>
                                    <div className="stat-number">{stat.value}</div>
                                    {stat.change && (
                                        <div className={`stat-change ${stat.positive ? 'positive' : ''}`}>
                                            {stat.change}
                                        </div>
                                    )}
                                    {stat.stars && (
                                        <div className="rating-stars">{stat.stars}</div>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                </section>
            );
        }

        // –ë–ª–æ–∫ –≥—Ä–∞—Ñ–∏–∫–æ–≤
        function ChartsSection() {
            const chartRefs = {
                sessions: useRef(null),
                topics: useRef(null),
                progress: useRef(null),
                mentors: useRef(null)
            };

            useEffect(() => {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
                const initCharts = () => {
                    // –ì—Ä–∞—Ñ–∏–∫ —Å–µ—Å—Å–∏–π
                    if (chartRefs.sessions.current) {
                        new Chart(chartRefs.sessions.current, {
                            type: 'line',
                            data: {
                                labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                                datasets: [{
                                    label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Å—Å–∏–π',
                                    data: [3, 5, 4, 6, 8, 5],
                                    borderColor: '#e5315b',
                                    backgroundColor: 'rgba(229, 49, 91, 0.1)',
                                    borderWidth: 3,
                                    fill: true,
                                    tension: 0.4
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false
                            }
                        });
                    }

                    // –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Ç–µ–º
                    if (chartRefs.topics.current) {
                        new Chart(chartRefs.topics.current, {
                            type: 'doughnut',
                            data: {
                                labels: ['JavaScript', 'React', 'Node.js', 'CSS'],
                                datasets: [{
                                    data: [35, 25, 20, 20],
                                    backgroundColor: [
                                        '#e5315b',
                                        '#007bff',
                                        '#28a745',
                                        '#ffc107'
                                    ]
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false
                            }
                        });
                    }

                    // –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                    if (chartRefs.progress.current) {
                        new Chart(chartRefs.progress.current, {
                            type: 'bar',
                            data: {
                                labels: ['HTML/CSS', 'JavaScript', 'React', 'Node.js'],
                                datasets: [{
                                    label: '–£—Ä–æ–≤–µ–Ω—å –≤–ª–∞–¥–µ–Ω–∏—è (%)',
                                    data: [85, 75, 60, 45],
                                    backgroundColor: '#e5315b'
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    y: {
                                        beginAtZero: true,
                                        max: 100
                                    }
                                }
                            }
                        });
                    }

                    // –†–∞–¥–∞—Ä–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –º–µ–Ω—Ç–æ—Ä–æ–≤
                    if (chartRefs.mentors.current) {
                        new Chart(chartRefs.mentors.current, {
                            type: 'radar',
                            data: {
                                labels: ['–ó–Ω–∞–Ω–∏—è', '–û–±—ä—è—Å–Ω–µ–Ω–∏–µ', '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', '–ì–∏–±–∫–æ—Å—Ç—å'],
                                datasets: [{
                                    label: '–î–º–∏—Ç—Ä–∏–π',
                                    data: [4.8, 4.5, 4.7, 4.6],
                                    backgroundColor: 'rgba(229, 49, 91, 0.2)',
                                    borderColor: '#e5315b'
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    r: {
                                        beginAtZero: true,
                                        max: 5
                                    }
                                }
                            }
                        });
                    }
                };

                initCharts();
            }, []);

            return (
                <section className="charts-section">
                    <div className="chart-row">
                        <div className="chart-card">
                            <h3>–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —Å–µ—Å—Å–∏–π –ø–æ –º–µ—Å—è—Ü–∞–º</h3>
                            <div className="chart-container">
                                <canvas ref={chartRefs.sessions} id="sessionsChart"></canvas>
                            </div>
                        </div>
                        <div className="chart-card">
                            <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–µ–º–∞–º</h3>
                            <div className="chart-container">
                                <canvas ref={chartRefs.topics} id="topicsChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div className="chart-row">
                        <div className="chart-card">
                            <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è</h3>
                            <div className="chart-container">
                                <canvas ref={chartRefs.progress} id="progressChart"></canvas>
                            </div>
                        </div>
                        <div className="chart-card">
                            <h3>–†–µ–π—Ç–∏–Ω–≥ –º–µ–Ω—Ç–æ—Ä–æ–≤</h3>
                            <div className="chart-container">
                                <canvas ref={chartRefs.mentors} id="mentorsChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            );
        }

        // –ë–ª–æ–∫ –æ—Ç–∑—ã–≤–æ–≤
        function ReviewsSection() {
            const [reviews, setReviews] = useState([
                {
                    id: 1,
                    mentor: '–î–º–∏—Ç—Ä–∏–π (JavaScript)',
                    rating: 5,
                    title: '–û—Ç–ª–∏—á–Ω—ã–π –º–µ–Ω—Ç–æ—Ä!',
                    text: '–î–º–∏—Ç—Ä–∏–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –æ–±—ä—è—Å–Ω—è–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ JavaScript. –û—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–∏—Ö.',
                    date: '2024-01-20'
                },
                {
                    id: 2,
                    mentor: '–Ø—Ä–æ—Å–ª–∞–≤ (C++)',
                    rating: 4,
                    title: '–ü–æ–ª–µ–∑–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–æ C++',
                    text: '–Ø—Ä–æ—Å–ª–∞–≤ –ø–æ–º–æ–≥ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ —Ç–µ–º–∞–º–∏ C++. –ù–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–æ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤, –Ω–æ –æ—á–µ–Ω—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ.',
                    date: '2024-01-15'
                }
            ]);
            const [showModal, setShowModal] = useState(false);
            const [searchTerm, setSearchTerm] = useState('');
            const [sortBy, setSortBy] = useState('newest');
            const [newReview, setNewReview] = useState({
                mentor: '',
                rating: 0,
                title: '',
                text: ''
            });

            const filteredReviews = reviews
                .filter(review => 
                    review.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    review.text.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    review.mentor.toLowerCase().includes(searchTerm.toLowerCase())
                )
                .sort((a, b) => {
                    switch (sortBy) {
                        case 'newest':
                            return new Date(b.date) - new Date(a.date);
                        case 'oldest':
                            return new Date(a.date) - new Date(b.date);
                        case 'rating-high':
                            return b.rating - a.rating;
                        case 'rating-low':
                            return a.rating - b.rating;
                        default:
                            return 0;
                    }
                });

            const handleAddReview = (e) => {
                e.preventDefault();
                const review = {
                    id: Date.now(),
                    ...newReview,
                    date: new Date().toISOString().split('T')[0]
                };
                setReviews([review, ...reviews]);
                setShowModal(false);
                setNewReview({ mentor: '', rating: 0, title: '', text: '' });
            };

            const handleDeleteReview = (id) => {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤?')) {
                    setReviews(reviews.filter(review => review.id !== id));
                }
            };

            const setRating = (rating) => {
                setNewReview({ ...newReview, rating });
            };

            return (
                <section className="reviews-section" id="reviews">
                    <div className="section-header">
                        <h2>–ú–æ–∏ –æ—Ç–∑—ã–≤—ã</h2>
                        <button className="btn-primary" onClick={() => setShowModal(true)}>
                            + –ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤
                        </button>
                    </div>
                    
                    <div className="reviews-controls">
                        <div className="search-box">
                            <input 
                                type="text" 
                                placeholder="–ü–æ–∏—Å–∫ –ø–æ –æ—Ç–∑—ã–≤–∞–º..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <span className="search-icon">üîç</span>
                        </div>
                        <select 
                            className="sort-select"
                            value={sortBy}
                            onChange={(e) => setSortBy(e.target.value)}
                        >
                            <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                            <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                            <option value="rating-high">–í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</option>
                            <option value="rating-low">–ù–∏–∑–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</option>
                        </select>
                    </div>

                    <div className="reviews-grid">
                        {filteredReviews.map(review => (
                            <div key={review.id} className="review-card">
                                <div className="review-header">
                                    <div>
                                        <div className="review-mentor">{review.mentor}</div>
                                        <div className="review-date">{review.date}</div>
                                    </div>
                                    <div className="review-rating">
                                        {'‚òÖ'.repeat(review.rating)}{'‚òÜ'.repeat(5 - review.rating)}
                                    </div>
                                </div>
                                <div className="review-title">{review.title}</div>
                                <div className="review-text">{review.text}</div>
                                <div className="review-actions">
                                    <button className="btn-edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                    <button 
                                        className="btn-delete"
                                        onClick={() => handleDeleteReview(review.id)}
                                    >
                                        –£–¥–∞–ª–∏—Ç—å
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞ */}
                    <div className={`modal ${showModal ? 'show' : ''}`}>
                        <div className="modal-content">
                            <div className="modal-header">
                                <h3>–ù–æ–≤—ã–π –æ—Ç–∑—ã–≤</h3>
                                <button className="close-modal" onClick={() => setShowModal(false)}>
                                    &times;
                                </button>
                            </div>
                            <form className="review-form" onSubmit={handleAddReview}>
                                <div className="form-group">
                                    <label htmlFor="reviewMentor">–ú–µ–Ω—Ç–æ—Ä</label>
                                    <select 
                                        id="reviewMentor"
                                        value={newReview.mentor}
                                        onChange={(e) => setNewReview({...newReview, mentor: e.target.value})}
                                        required
                                    >
                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—Ç–æ—Ä–∞</option>
                                        <option value="–î–º–∏—Ç—Ä–∏–π (JavaScript)">–î–º–∏—Ç—Ä–∏–π (JavaScript)</option>
                                        <option value="–Ø—Ä–æ—Å–ª–∞–≤ (C++)">–Ø—Ä–æ—Å–ª–∞–≤ (C++)</option>
                                        <option value="–≠–Ω–Ω (Frontend)">–≠–Ω–Ω (Frontend)</option>
                                    </select>
                                </div>
                                <div className="form-group">
                                    <label>–û—Ü–µ–Ω–∫–∞</label>
                                    <div className="rating-input">
                                        <div className="stars">
                                            {[1, 2, 3, 4, 5].map(rating => (
                                                <span
                                                    key={rating}
                                                    className={rating <= newReview.rating ? 'active' : ''}
                                                    onClick={() => setRating(rating)}
                                                >
                                                    {rating <= newReview.rating ? '‚òÖ' : '‚òÜ'}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                                <div className="form-group">
                                    <label htmlFor="reviewTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–∑—ã–≤–∞</label>
                                    <input
                                        type="text"
                                        id="reviewTitle"
                                        placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
                                        value={newReview.title}
                                        onChange={(e) => setNewReview({...newReview, title: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="form-group">
                                    <label htmlFor="reviewText">–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞</label>
                                    <textarea
                                        id="reviewText"
                                        placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞—à–∏–º–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏..."
                                        rows="5"
                                        value={newReview.text}
                                        onChange={(e) => setNewReview({...newReview, text: e.target.value})}
                                        required
                                    ></textarea>
                                </div>
                                <div className="form-actions">
                                    <button 
                                        type="button" 
                                        className="btn-secondary"
                                        onClick={() => setShowModal(false)}
                                    >
                                        –û—Ç–º–µ–Ω–∞
                                    </button>
                                    <button type="submit" className="btn-primary">
                                        –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
            );
        }

        // –ë–ª–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏ —Å–µ—Å—Å–∏–π
        function SessionsSection() {
            const [sessions] = useState([
                { id: 1, date: '2024-01-20', mentor: '–î–º–∏—Ç—Ä–∏–π', topic: 'JavaScript Advanced', duration: 2, rating: 5 },
                { id: 2, date: '2024-01-18', mentor: '–Ø—Ä–æ—Å–ª–∞–≤', topic: 'C++ Memory Management', duration: 1.5, rating: 4 },
                { id: 3, date: '2024-01-15', mentor: '–≠–Ω–Ω', topic: 'React Hooks', duration: 2, rating: 5 }
            ]);

            return (
                <section className="sessions-section" id="sessions">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π</h2>
                    <div className="sessions-table-container">
                        <table className="sessions-table">
                            <thead>
                                <tr>
                                    <th>–î–∞—Ç–∞</th>
                                    <th>–ú–µ–Ω—Ç–æ—Ä</th>
                                    <th>–¢–µ–º–∞</th>
                                    <th>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</th>
                                    <th>–û—Ü–µ–Ω–∫–∞</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody>
                                {sessions.map(session => (
                                    <tr key={session.id}>
                                        <td>{session.date}</td>
                                        <td>{session.mentor}</td>
                                        <td>{session.topic}</td>
                                        <td>{session.duration} —á</td>
                                        <td>{'‚òÖ'.repeat(session.rating)}{'‚òÜ'.repeat(5 - session.rating)}</td>
                                        <td>
                                            <button className="btn-edit">‚úèÔ∏è</button>
                                            <button className="btn-delete">üóëÔ∏è</button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </section>
            );
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>